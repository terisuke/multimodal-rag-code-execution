# タスク完了チェックリスト

## 変更を提出する前に

### コード品質
- [ ] `pytest`を実行してすべてのテストが通ることを確認
- [ ] `pip check`で依存関係をチェック
- [ ] pre-commitフックが設定されている場合は`pre-commit run --all-files`を実行
- [ ] コードにハードコードされた認証情報や秘密情報がないことを確認

### 環境設定
- [ ] ローカルテスト用に`.env`ファイルが適切に設定されていることを確認
- [ ] Azureサービスの接続が動作することを確認
- [ ] Azure OpenAIに適切なモデルがデプロイされていることを確認

### APIテスト
- [ ] APIサーバーを開始: `cd code && python -m uvicorn api:app --reload --port 9000`
- [ ] APIエンドポイントが正しく応答することをテスト
- [ ] ファイルのアップロード/ダウンロード機能が動作することを確認

### UIテスト
- [ ] Chainlitアプリをテスト: `cd ui && chainlit run chat.py`
- [ ] Streamlitアプリをテスト: `cd ui && streamlit run main.py`
- [ ] 文書取り込みワークフローを確認
- [ ] 取り込んだ文書とのチャット機能をテスト

### 処理パイプラインテスト
- [ ] サンプルのPDF、DOCX、XLSXファイルで文書処理をテスト
- [ ] 処理プランが正しく実行されることを確認
- [ ] すべての処理モード（gpt-4-vision、document-intelligenceなど）が動作することをチェック
- [ ] Azure Cognitive Searchでのベクトルインデックス作成を検証

### 統合テスト
- [ ] エンドツーエンドテスト: 文書アップロード → 処理 → インデックス作成 → 検索/チャット
- [ ] マルチモーダルコンテンツ（テキスト、画像、表）が正しく処理されることを確認
- [ ] 様々な文書形式とサイズでテスト

### ドキュメント
- [ ] 新しい環境変数が追加された場合は設定ファイルを更新
- [ ] サンプルファイル（`.env.sample`、`taskweaver_config.sample.json`）が最新であることを確認
- [ ] 新しいステップが追加された場合は処理プランを更新

### パフォーマンス考慮事項
- [ ] 大きな文書で処理が完了することをテスト
- [ ] 処理中のメモリ使用量が妥当であることを確認
- [ ] 複数スレッドでの並行処理が動作することをチェック

## デプロイメント準備
- [ ] Dockerビルドが正常に完了することをテスト
- [ ] Azureサービスの権限とクォータを確認
- [ ] 必要なすべてのAzureリソースがプロビジョニングされていることを確認